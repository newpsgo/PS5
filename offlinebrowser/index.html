<html manifest="Cache.manifest">
<head>
<title>PSGO浏览器 - PS5.PSGO.eu.org</title>
<link rel="stylesheet" href="index.css">
</head>
<style>
html, body {
background-image: url('');
background-size: 100%;
background-repeat: no-repeat;
background-color: #202124;
color: white;
text-align: center;
margin: 0px;
overflow: hidden;
}

h1 {
font-size: 25px;
text-align: center;
color: white;
}

.TextCaption{
display: block;
    font-size: 20px;
    color: #fff;
    text-decoration: none;
}

#clock{
 float:right;
 margin-right:2.25%;
 margin-top: 25px;
 font-weight:bold;
 font-size:28px;
  color: white;
}
#date {
 float:left;
 margin-left:1.25%;
 font-weight:bold;
 margin-top: 25px;
 font-size:28px;
 color: white;
}
</style>
	<script>
window.applicationCache.ondownloading = function()
{
	alert("浏览器缓存有新的版本，点击确定按钮将开始缓存浏览器!缓存完成之前请不要操作！")
};

window.applicationCache.onprogress = function(a)
{
	document.getElementById("progress").innerHTML="<h3 style="color:white">缓存中请勿操作: "+(Math.round(100*(a.loaded/a.total)))+"% </h3>";
};

window.applicationCache.oncached = window.applicationCache.onupdateready = function()
{
	alert("浏览器缓存完成!如果配合使用离线折腾，需要单独再缓存折腾页面！")
    document.location.href = document.location.href;
};

if(!document.location.href.endswith("/index.html"))
    document.location.href = "index.html";
</script>
<script>
    function showdate() {
  var dt = new Date();
    Hour= dt.getHours();
  Minute= dt.getMinutes();
     Day=dt.getDate();
   Month=dt.getMonth()+1;
   Year=dt.getFullYear();
if (Minute < 10) { Minute = "0" + Minute; };
if (Hour < 10) { Hour = "0" + Hour; };
document.getElementById("date").innerHTML = (Year+"/"+Month+"/"+Day);
document.getElementById("clock").innerHTML = (Hour+":"+Minute);
  }
  
  setInterval(showdate,0);
</script>
<body class="bg-darker">
<div id="container"  style="">
<span id="date" ></span><span id="clock" ></span><h1 style='font-size:25px;text-align:center;color:yellow;'></h1>
<br>
<div  style='text-align:center;color'><h1 style="font-size:60px;text-align:center;font-style:italic;text-shadow: 4px 2px #303134;"><font color="#dcddde">浏览器 v1.1 - PS5.PSGO.eu.org</font></h1></div>
<div id="progress"></div>
<body style="margin:0px;padding:0px;overflow:auto;">
<div id=BOX1 class=BOX style="margin:30px 5px 0px 35px;">
<input id="search-input" type="text" value="http://">
</div>	
<div id=BOX2 class=BOX style="margin:30px 0px 0px -35px;">
<button id=infobutz class=leeful onclick='goToURL();'>  跳转  </button>
</div>
<div id=BOX3  style="margin-top: 30px;">

<div id=BOX3>
<button style="position:absolute; bottom:75px;" class="leeful smaller" id=clrHis onclick="clearHistory()">清空历史</button><br>

<button style="position:absolute; bottom:25px;" class="leeful smaller" id=clrFav onclick="clearFavorites()">清空收藏</button>

<h1 style="margin-top:390px;color:white;"> <a href="" style="color: #f31414;margin-left: 0px;">  </a><br><a style="color: white;margin-left: 0px;">  </a></h1>

</div>

<div id=favsid  style="margin-top: 100px;">


<div style='text-align:left;margin-left:100px;' id=favsid>
<h3 style='margin-left:0px;'>我的收藏</h3>
<a href='https://ps5.psgo.eu.org/offlinehost/index.html' target='_self'>PSGO一键折腾离线版（首次需联网进入并完成缓存）</a><br>
<a href='https://ps5.psgo.eu.org/' target='_self'>PS5.PSGO.eu.org - PSGO折腾导航（联网查看）</a><br>
<a href='https://ps5.psgo.eu.org/qinghuancun.html' target='_self'>如何清除PS5浏览器缓存？（联网查看）</a><br>
<div id=favs></div>
</div>

<div id=histid  style="margin-right: 100px;">

<div style='text-align:left;'  id=histid>
<h3  style='margin-left:0px;'>历史访问</h3>
<div id=hist></div>

<script>
url="";
x=document.getElementById("search-input");

if(!navigator.userAgent.includes('PlayStation 5')) {
 alert("请在PS5中进入本页!");
}

if(localStorage.history==null){
 localStorage.history=""
};

if(localStorage.fav==null){
localStorage.fav="<a href='https://ps5.psgo.eu.org/sleirsgoevy/index.html' target='_self'>ps5.psgo.eu.org/sleirsgoevy - 国内镜像</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>删除</button><br>";
localStorage.fav+="<a href='https://sleirsgoevy.github.io/ps4jb2/ps5-403/index.html' target='_self'>sleirsgoevy.github.io/ps4jb2/ps5-403 - 原版链接</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>删除</button><br>";
}
 
function goToURL(){
 addHist()
 window.location.href = x.value;
}
 
function clearHistory(){
 if (confirm('你确定要删除全部历史记录吗?')) {
  localStorage.history="";
  hist.innerHTML=localStorage.history;
 } else {return}
}
 
function clearFavorites(){
 if (confirm('你确定要删除全部收藏记录吗?')) {
  localStorage.fav="";
  favs.innerHTML=localStorage.fav;
 } else {return}
}

function addHist() {
 a = localStorage.history;
 b = "<a href='"+x.value+"' target='_self'>"+x.value+" </a><button onclick='url=this.previousElementSibling.innerHTML;addFav()'>添加</button><br>";
 localStorage.history = b+a;
}

function addFav(){
 a = localStorage.fav;
 b = "<a href='"+url+"' target='_self'>"+url+"</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>删除</button><br>";
 alert(url+"\n已添加到收藏夹");
 localStorage.fav = b+a;
 favs.innerHTML=localStorage.fav;
}

function remFav(){
 if (confirm('你确定要删除这个收藏记录吗?')) {
  favlistBefore = localStorage.fav;
  removefav = "<a href='"+url+"' target='_self'>"+url+"</a><button onclick='url=this.previousElementSibling.innerHTML;remFav()'>删除</button><br>";
  localStorage.fav = favlistBefore.replace(removefav, "");
  favs.innerHTML=localStorage.fav;
 } else {return}
}

hist.innerHTML=localStorage.history;
favs.innerHTML=localStorage.fav;
</script>

</body>
</html>
